(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{482:function(t,e,a){"use strict";a.r(e);var n=a(1),s=Object(n.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 变量")]),t._v(" "),a("h2",{attrs:{id:"自定义变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 自定义变量")]),t._v(" "),a("ul",[a("li",[t._v("语法格式为 "),a("strong",[t._v("name=[value]")])])]),t._v(" "),a("ol",[a("li",[t._v("如果value没有指定，变量将被设定为空字符串")]),t._v(" "),a("li",[t._v("使用<$变量名称>来调用变量的值")]),t._v(" "),a("li",[t._v("变量名称为字母、数字及下画线的组合，但首字母不能是数字")]),t._v(" "),a("li",[t._v("通过typeset为变量添加只读属性可以防止误操作")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# NAME=nginx\n[root@Hyui-VM ~]# echo $NAME\nnginx\n[root@Hyui-VM ~]# typeset -r NAME  #设定只读属性\n[root@Hyui-VM ~]# NAME=apache\n-bash: NAME: readonly variable\n")])])]),a("ul",[a("li",[a("strong",[t._v("如何在不赋值的情况下预先定义一个变量呢？")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# declare INT_NUMBER  #使用declare进行定义\n")])])]),a("ul",[a("li",[a("strong",[t._v("如何将INT_NUMBER设定为整型呢？")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# typeset -i INT_NUMBER  #设定为整型\n[root@Hyui-VM ~]# INT_NUMBER=centos  #给INT_NUMBER赋一个字符型的值\n[root@Hyui-VM ~]# echo $INT_NUMBER  #输出就只能是0\n0\n[root@Hyui-VM ~]# INT_NUMBER=1000  #赋值为整型\n[root@Hyui-VM ~]# echo $INT_NUMBER  #成功输出整型数字\n1000\n")])])]),a("ul",[a("li",[a("strong",[t._v("read命令")])])]),t._v(" "),a("ol",[a("li",[t._v("read从标准输入中取得变量的值")]),t._v(" "),a("li",[t._v("可以通过-p添加提示信息")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[root@Hyui-VM ~]# read R_NUMBER  #运行此命令后输入要赋值给R_NUMBER的值\n100\n[root@Hyui-VM ~]# echo $R_NUMBER\n100\n[root@Hyui-VM ~]# read -p "请输入一个数字：" R_NUMBER  #带提示信息的\n请输入一个数字：200\n[root@Hyui-VM ~]# echo $R_NUMBER\n200\n')])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# set | grep R_NUMBER  #set可以查看当前系统中所有的变量和值，写一个管道显示出R_NUMBER的值\nR_NUMBER=200\n[root@Hyui-VM ~]# unset R_NUMBER  #删除R_NUMBER变量\n")])])]),a("h2",{attrs:{id:"变量的使用范围"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#变量的使用范围","aria-hidden":"true"}},[t._v("#")]),t._v(" 变量的使用范围")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("export的使用")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# export NAME=nginx  #直接定义环境变量\n")])])]),a("h2",{attrs:{id:"环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境变量")]),t._v(" "),a("ul",[a("li",[t._v("Bash预设了多种变量，可以直接调用这些变量")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("变量名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("含 义")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("变量名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("含 义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("BASHPID")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("当前Bash进程的进程号")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("UID")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("当前用户的ID号")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("GROUPS")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("当前用户所属组的ID号")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("HISTSIZE")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("命令历史的记录条数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("HOSTNAME")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("当前主机的主机名称")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("HOME")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("当前命令的家目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("PWD")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("当前的工作目录")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("PATH")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("命令搜索路径")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("OLDPWD")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("前一个工作目录")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("PS1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("主命令提示符")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("RANDOM")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("0~32767之间的随机数")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("PS2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("次命令提示符")])])])]),t._v(" "),a("ul",[a("li",[t._v("PATH是一个目录的集合")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n")])])]),a("ul",[a("li",[t._v("对于PATH的修改，切勿给PATH赋新值")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# PATH=/root  #给PATH赋值为/root，之后运行ls的时候系统会去/root目录下寻找ls，导致无法运行\n[root@Hyui-VM ~]# ls\n-bash: ls: command not found\n#重新登陆终端便可复原(只要不通过写入文件的方式永久保存入环境变量)\n")])])]),a("ul",[a("li",[a("strong",[t._v("那么我们如何在原有的路径上追加目录呢？")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# PATH=$PATH:/root  #这样就可以\n[root@Hyui-VM ~]# echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/root\n")])])]),a("h2",{attrs:{id:"位置变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#位置变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 位置变量")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("位置变量可以调用运行脚本时不同位置的参数")]),t._v("，使用空格分隔，$0代表当前Shell程序文件的名称，$1~$9分别表示脚本后第一个到第九个参数。")])]),t._v(" "),a("ol",[a("li",[t._v("$#代表Shell所有参数的个数")]),t._v(" "),a("li",[t._v("$*和$@表示所有参数的内容")]),t._v(" "),a("li",[t._v("$$表示进程的ID号码")]),t._v(" "),a("li",[t._v("$?表示程序的退出代码")])]),t._v(" "),a("ul",[a("li",[t._v("写一个脚本：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[root@Hyui-VM ~]# vim test.sh\n#/bin/bash\necho "这个是文件名称：$0"\necho "这个是第一个值：$1"\necho "这个是第二个值：$2"\necho "这个是第三个值：$3"\necho "这个是参数的个数：$#"\necho "所有参数的内容：$*"\necho "所有参数的内容：$@"\necho "当前进程号：$$"\n')])])]),a("ul",[a("li",[t._v("运行这个脚本")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# chmod +x test.sh\n[root@Hyui-VM ~]# ./test.sh a b c  #使用abc三个参数\n这个是文件名称：./test.sh\n这个是第一个值：a\n这个是第二个值：b\n这个是第三个值：c\n这个是参数的个数：3\n所有参数的内容：a b c  #$*所表示的所有参数的内容为'a b c'\n所有参数的内容：a b c  #$@所表示的所有参数的内容为'a' 'b' 'c'\n当前进程号：19163\n")])])]),a("h2",{attrs:{id:"变量的展开替换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#变量的展开替换","aria-hidden":"true"}},[t._v("#")]),t._v(" 变量的展开替换")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Linux使用${变量名}的形式展开变量的值")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# NAME=hyui\n[root@Hyui-VM ~]# echo ${NAME}\nhyui\n")])])]),a("ul",[a("li",[t._v("除此之外还有变量展开功能，格式如下")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("${varname:-word}  #如果varname存在且非null，则返回其值，否则返回word\n${varname:=word}  #如果varname存在且非null，则返回其值，否则设定为word\n${varname:?message}  #如果varname存在且非null，则返回其值，否则显示varname:message\n${varname:+word}  #如果varname存在且非null，则返回word，否则返回null\n")])])]),a("p",[t._v("示例")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# echo ${NAME:-no user}; echo ${NAME}\nhyui\nhyui\n[root@Hyui-VM ~]# echo ${NAME0:-no user}; echo ${NAME0}\n-no user\n-no user\n[root@Hyui-VM ~]# echo ${NAME:=no user}; echo ${NAME}\nhyui\nhyui\n[root@Hyui-VM ~]# echo ${NAME0:=no user}; echo ${NAME0}\n-no user\n-no user\n[root@Hyui-VM ~]# echo ${NAME:?no defined}; echo ${NAME}\nhyui\nhyui\n[root@Hyui-VM ~]# echo ${EMAN:?no defined}; echo ${EMAN}\n-bash: EMAN: no defined\n[root@Hyui-VM ~]# echo ${NAME:+OK}; echo ${NAME}\nOK\nhyui\n[root@Hyui-VM ~]# echo ${EMAN:+ERROR}; echo ${EMAN}\n\n")])])]),a("h2",{attrs:{id:"数组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数组","aria-hidden":"true"}},[t._v("#")]),t._v(" 数组")]),t._v(" "),a("ul",[a("li",[t._v("Bash提供了很多数组变量功能，数组中所有变量都会编录成索引，数组的索引是从0开始的整数，没有大小限制。")]),t._v(" "),a("li",[t._v("有两种方式创建数组变量，分别如下")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# A[1]=11\n[root@Hyui-VM ~]# A[2]=22\n[root@Hyui-VM ~]# A[3]=33\n[root@Hyui-VM ~]# echo ${A[1]},${A[2]},${A[3]}\n11,22,33\n[root@Hyui-VM ~]# echo ${A[1]}:${A[2]}:${A[3]}\n11:22:33\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# B=(aa bbb cccc)\n[root@Hyui-VM ~]# echo ${B[0]},${B[1]},${B[2]}\naa,bbb,cccc\n")])])]),a("ul",[a("li",[t._v("使用*和@两个符号将调出所有数组的成员")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# echo ${A[*]}\n11 22 33\n[root@Hyui-VM ~]# echo ${A[@]}\n11 22 33\n")])])]),a("ul",[a("li",[t._v("使用${#name[subscript]}可以返回${name[subscript]}的长度")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[root@Hyui-VM ~]# echo "length of B_0 is: ${#B[0]}"\nlength of B_0 is: 2\n[root@Hyui-VM ~]# echo "length of B_1 is: ${#B[1]}"\nlength of B_1 is: 3\n[root@Hyui-VM ~]# echo "length of B_2 is: ${#B[2]}"\nlength of B_2 is: 4\n[root@Hyui-VM ~]# echo ${#B[*]}\n3\n')])])]),a("h2",{attrs:{id:"算术运算与测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#算术运算与测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 算术运算与测试")]),t._v(" "),a("h3",{attrs:{id:"算术运算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#算术运算","aria-hidden":"true"}},[t._v("#")]),t._v(" 算术运算")]),t._v(" "),a("ul",[a("li",[t._v("使用$((expression))语法格式可以实现整数级的算术运算功能")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# echo $((1+2))  #加法运算\n3\n[root@Hyui-VM ~]# echo $((2-1))  #减法运算\n1\n[root@Hyui-VM ~]# echo $((10/2))  #除法运算\n5\n[root@Hyui-VM ~]# echo $((3*2))  #乘法运算\n6\n[root@Hyui-VM ~]# echo $((7%3))  #取余运算\n1\n[root@Hyui-VM ~]# x=5\n[root@Hyui-VM ~]# y=3\n[root@Hyui-VM ~]# echo $((x**y))  #幂运算\n125\n")])])]),a("h3",{attrs:{id:"测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 测试")]),t._v(" "),a("ul",[a("li",[t._v("使用Bash内置命令可以实现测试工作或使用测试表达式\n|:---😐:---😐:---😐:---😐\n|测试选项|含义|测试选项|含义|\n|-d|测试目录|-e|测试文件|\n|-f|测试普通文件是否存在|-r|文件是否可读|\n|-w|文件是否存在且可写|-x|文件是否存在且可执行|\n|-s|文件是否存在且非空|-h|文件是否为链接文件|\n|-n|字符串长度非0|-z|字符串长度为0|")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[root@Hyui-VM ~]# test -d /etc/ && echo "True" || echo "False"  #可以使用test进行测试\nTrue\n[root@Hyui-VM ~]# test -d /etc/passwd && echo "True" || echo "False"\nFalse\n')])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[root@Hyui-VM ~]# [ -d /etc/ ] && echo "True" || echo "False"\nTrue\n[root@Hyui-VM ~]# [ -e /etc/passwd ] && echo "True" || echo "False"\nTrue\n[root@Hyui-VM ~]# [ -f /etc/password ] && echo "True" || echo "False"\nFalse\n[root@Hyui-VM ~]# [ -h /etc/grub.conf ] && echo "True" || echo "False"\nFalse\n[root@Hyui-VM ~]# [ -n $PATH ] && echo "True" || echo "False"\nTrue\n[root@Hyui-VM ~]# [ -z $ab ] && echo "True" || echo "False"  #ab变量没有定义\nTrue\n')])])]),a("ul",[a("li",[t._v("Bash中的大于小于等于都有对应选项所对应")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("符号")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-eq")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("等于")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-ge")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大于等于")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-gt")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大于")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-le")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("小于等于")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-lt")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("小于")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-ne")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不等于")])])])]),t._v(" "),a("p",[t._v("使用示例：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('[root@Hyui-VM ~]# [ 233 -eq 233 ] && echo "True" || echo "False"\nTrue\n')])])])])},[],!1,null,null,null);e.default=s.exports}}]);