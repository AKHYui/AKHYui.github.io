(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{533:function(t,e,a){"use strict";a.r(e);var s=a(2),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"sed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed"}},[t._v("#")]),t._v(" Sed")]),t._v(" "),a("h2",{attrs:{id:"sed简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed简介"}},[t._v("#")]),t._v(" sed简介")]),t._v(" "),a("ul",[a("li",[t._v("sed是一款流编辑工具，用来对文本进行过滤和替换操作，可以对几十个文件进行统一修改")]),t._v(" "),a("li",[t._v("原理：通过文件管道读取文件内容，默认不会修改源文件，而是将读入的内容复制到缓冲区中，成为模式空间，所有指令操作都在模式空间中进行，然后sed根据相应指令对模式空间中的内容进行处理并输出结果，默认输出至屏幕上")])]),t._v(" "),a("h2",{attrs:{id:"sed基本语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed基本语法格式"}},[t._v("#")]),t._v(" Sed基本语法格式")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("选 项")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("含 义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("--version")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示sed版本")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("--help")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("显示帮助文档")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-n,--quiet,--silent")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("静默输出")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-e script")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("允许多个指令脚本被执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-f script-file")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("从文件中读取脚本指令")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-i,--in-place")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("改选项将直接修改源文件(慎用)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-l N")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("制定l指令可以输出行的长度")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("--posix")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("禁用GUN sed扩展功能")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-r")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("在脚本指令中使用扩展正则表达式")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-s,--separate")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("默认情况下，sed把输入的多个文件名作为一个长的连续的输入流。而GUN sed则允许把它们当作单独的文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("-u,--unbuffered")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("最低限度的缓存输入与输出")])])])]),t._v(" "),a("h2",{attrs:{id:"sed入门范例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed入门范例"}},[t._v("#")]),t._v(" Sed入门范例")]),t._v(" "),a("h3",{attrs:{id:"基本格式范例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本格式范例"}},[t._v("#")]),t._v(" 基本格式范例")]),t._v(" "),a("ul",[a("li",[t._v("a,append表示指令追加")]),t._v(" "),a("li",[t._v("i,insert表示插入指令")]),t._v(" "),a("li",[t._v("d,delete表示删除指令")]),t._v(" "),a("li",[t._v("s,substitution表示替换指令")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat test\nDEVICE=eno16777736 \nBOOTPROTO=static \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n \nGATEWAY=192.168.0.254 \n \nONBOOT=yes \n[root@Hyui-VM ~]# sed '2a TYPE=Ethernet' test  #在第二行之后追加TYPE=Ethernet\nDEVICE=eno16777736 \nBOOTPROTO=static \nTYPE=Ethernet\nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n \nGATEWAY=192.168.0.254 \n \nONBOOT=yes\n[root@Hyui-VM ~]# sed '2i TYPE=Ethernet' test  #在第三行之前追加TYPE=Ethernet\nDEVICE=eno16777736 \nTYPE=Ethernet\nBOOTPROTO=static \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n \nGATEWAY=192.168.0.254 \n \nONBOOT=yes\n[root@Hyui-VM ~]# sed 's/yes/no/g' test  #把文本中所有的yes替换成no\nDEVICE=eno16777736 \nBOOTPROTO=static \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n \nGATEWAY=192.168.0.254 \n \nONBOOT=no\n[root@Hyui-VM ~]# sed '3,4d' test  #删除三四行的内容\nDEVICE=eno16777736 \nBOOTPROTO=static \n \nGATEWAY=192.168.0.254 \n \nONBOOT=yes\n")])])]),a("ul",[a("li",[t._v("如果出现不确定的行号，更多可以使用正则表达式确定操作对象")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/ONBOOT/a TYPE=Ethernet' test  #匹配包含ONBOOT的行，之后添加TYPE=Ethernet\nDEVICE=eno16777736 \nBOOTPROTO=static \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n \nGATEWAY=192.168.0.254 \n \nONBOOT=yes \nTYPE=Ethernet\n[root@Hyui-VM ~]# sed '/^GATEWAY/d' test  #删除以GATEWAY开头的行\nDEVICE=eno16777736 \nBOOTPROTO=static \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n \n \nONBOOT=yes\n")])])]),a("ul",[a("li",[t._v("可以将sed指令写入脚本文件中，通过sed -f来选取")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat sed.sh \n#This is sed.sh\n/^$/d\n[root@Hyui-VM ~]# sed -f sed.sh test  #对test文件执行sed.sh指令\nDEVICE=eno16777736 \nBOOTPROTO=static \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \nGATEWAY=192.168.0.254 \nONBOOT=yes\n")])])]),a("ul",[a("li",[t._v("执行多指令使用的方法")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed 's/yes/no/;s/static/dhcp/' test  #使用分号隔开\nDEVICE=eno16777736 \nBOOTPROTO=dhcp \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n\nGATEWAY=192.168.0.254 \n\nONBOOT=no\n[root@Hyui-VM ~]# sed -e 's/yes/no/' -e 's/static/dhcp/' test  #用-e选项\nDEVICE=eno16777736 \nBOOTPROTO=dhcp \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n\nGATEWAY=192.168.0.254 \n\nONBOOT=no\n[root@Hyui-VM ~]# sed '  #利用分行\n> s/yes/no/\n> s/static/dhcp/\n> ' test\nDEVICE=eno16777736 \nBOOTPROTO=dhcp \nIPADDR=192.168.0.1 \nNETMASK=25.255.255.0 \n\nGATEWAY=192.168.0.254 \n\nONBOOT=no\n")])])]),a("h3",{attrs:{id:"操作地址匹配范例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作地址匹配范例"}},[t._v("#")]),t._v(" 操作地址匹配范例")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -n '1~2p' test  #打印文件奇数行\nDEVICE=eno16777736 \nIPADDR=192.168.0.1 \n\n\n[root@Hyui-VM ~]# sed '2,8d' test  #删除2~8行之间所有行\nDEVICE=eno16777736\n")])])]),a("h2",{attrs:{id:"sed常用指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed常用指令"}},[t._v("#")]),t._v(" Sed常用指令")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("指 令")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("功 能")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("s")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("替换")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("d")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("删除")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("a")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("追加")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("i")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("插入")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("c")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("更改")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("l")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印(显示非打印字符)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("y")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("按字符转换")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("L")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印(不显示非打印字符)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("p")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("打印")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("r")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("读入文件内容")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("w")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("保存至文件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("q")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("退出")])])])]),t._v(" "),a("h3",{attrs:{id:"指令范例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指令范例"}},[t._v("#")]),t._v(" 指令范例")]),t._v(" "),a("h4",{attrs:{id:"范例1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#范例1"}},[t._v("#")]),t._v(" 范例1")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat neko.html \n<html>\n<title>Neko Site</title>\n<body>Cute Neko<body>\n</html>\n")])])]),a("ul",[a("li",[t._v('如何将neko.html文件中第二个"body"替换成"/body"呢?')])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#编写一个sed.sh脚本：\n[root@Hyui-VM ~]# cat sed.sh \n/body/{\ns//\\/body/2\n}\n")])])]),a("p",[t._v("依据上表可得s代表的是替换指令，不需要替换所有body，只需要替换第二个。")]),t._v(" "),a("p",[t._v("执行这个脚本：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -f sed.sh neko.html \n<html>\n<title>Neko Site</title>\n<body>Cute Neko</body>\n</html>\n")])])]),a("h4",{attrs:{id:"范例2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#范例2"}},[t._v("#")]),t._v(" 范例2")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat neko.html \n<html>\n<title>Neko Site</title>\n<body>\nh1Cute Nekoh1\nh2Kawaii Nekoh2\nh3Yasashi Nekoh3\n</body>\n</html>\n")])])]),a("ul",[a("li",[t._v('"h1"、"h2"和"h3"分别表示一级标题、二级标题和三级标题，但是文件中缺少"<>"和"</>"，如何使用Sed对文件进行修改纠正呢？')])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#编写一个sed.sh脚本\n[root@Hyui-VM ~]# cat sed.sh \n/h[0-9]/{\ns//\\<&\\>/1\ns//\\<\\/&\\>/2\n}\n")])])]),a("p",[t._v("在以上sed脚本中，我们要匹配的是h后跟一个数字的行，将h与数字替换成带有<>和</>的行，也就是将h[0-9]替换为<&>和</&>，&就是前面要替换的内容；其中第一行指令只替换第一个h1,h2和h3；第二行替换第二个h1,h2和h3。")]),t._v(" "),a("p",[t._v("运行脚本：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -f sed.sh neko.html \n<html>\n<title>Neko Site</title>\n<body>\n<h1>Cute Neko</h1>\n<h2>Kawaii Neko</h2>\n<h3>Yasashi Neko</h3>\n</body>\n</html>\n")])])]),a("h4",{attrs:{id:"范例3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#范例3"}},[t._v("#")]),t._v(" 范例3")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat network \nDEVICE=eno16777736\nONBOOT=yes\nBOOTPROTO=static\n\nIPADDR=192.168.0.1\nNETMAST=255.255.255.0\nGATEWAY=192.168.0.254\n")])])]),a("ul",[a("li",[t._v("如何删除文件中的空白行？")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#编写一个sed.sh脚本\n[root@Hyui-VM ~]# cat sed.sh \n/.*/{\n/^$/d\n}\n")])])]),a("p",[t._v("匹配任意多个字符，如果匹配不到字串的结尾则为空，需要被删除。")]),t._v(" "),a("p",[t._v("运行结果：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -f sed.sh network \nDEVICE=eno16777736\nONBOOT=yes\nBOOTPROTO=static\nIPADDR=192.168.0.1\nNETMAST=255.255.255.0\nGATEWAY=192.168.0.254\n")])])]),a("h4",{attrs:{id:"范例4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#范例4"}},[t._v("#")]),t._v(" 范例4")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat network \nDEVICE=eno1245523\nONBOOT=yes\nBOOTPROTO=static\nNETMAST=255.255.255.0\nGATEWAY=192.168.0.254\n")])])]),a("ul",[a("li",[t._v("在BOOTPROTO行下添加一行IPADDR项，内容为192.168.31.125。")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/BOOTPROTO=static/a IPADDR=192.468.31.125' network \nDEVICE=eno1245523\nONBOOT=yes\nBOOTPROTO=static\nIPADDR=192.468.31.125\nNETMAST=255.255.255.0\nGATEWAY=192.168.0.254\n")])])]),a("ul",[a("li",[t._v("在NETMAST行的前一行添加IPADDR项，内容为192.168.31.125。")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/NETMAST/i IPADDR=192.468.31.125' network \nDEVICE=eno1245523\nONBOOT=yes\nBOOTPROTO=static\nIPADDR=192.468.31.125\nNETMAST=255.255.255.0\nGATEWAY=192.168.0.254\n")])])]),a("ul",[a("li",[t._v("将ONBOOT的值改为no。")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/ONBOOT/c ONBOOT=no' network \nDEVICE=eno1245523\nONBOOT=no\nBOOTPROTO=static\nNETMAST=255.255.255.0\nGATEWAY=192.168.0.254\n")])])]),a("h4",{attrs:{id:"范例5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#范例5"}},[t._v("#")]),t._v(" 范例5")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat network \nDEVICE=eno16777736\nONBOOT=yes\nBOOTPROTO=static\nIPADDR=192.168.0.1\nNETMAST=255.255.255.0\nGATEWAY=192.168.0.254\n")])])]),a("ul",[a("li",[t._v("将前两行显示非打印字符。")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -n '1,2l' network \nDEVICE=eno16777736$\nONBOOT=yes$\n")])])]),a("ul",[a("li",[t._v("显示一二行内容，不显示非显示字符。")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -n '1,2p' network \nDEVICE=eno16777736\nONBOOT=yes\n")])])]),a("h4",{attrs:{id:"范例6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#范例6"}},[t._v("#")]),t._v(" 范例6")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat network \nDEVICE=eno16777736\nonboot=yes\nBOOTPROTO=static\nipaddr=192.168.0.1\nnEtMaSt=255.255.255.0\nGaTeWaY=192.168.0.254\n")])])]),a("ul",[a("li",[t._v("将文件中所有英文字符转为大写。")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#编写sed脚本\n[root@Hyui-VM ~]# cat sed.sh \n/.*/{\n/.*/y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/\n}\n")])])]),a("p",[t._v("匹配文件中的全部字符，将全部英文字符替换成大写。")]),t._v(" "),a("p",[t._v("运行结果：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -f sed.sh network \nDEVICE=ENO16777736\nONBOOT=YES\nBOOTPROTO=STATIC\nIPADDR=192.168.0.1\nNETMAST=255.255.255.0\nGATEWAY=192.168.0.254\n")])])]),a("h4",{attrs:{id:"范例7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#范例7"}},[t._v("#")]),t._v(" 范例7")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("#文件1\n[root@Hyui-VM ~]# cat username.txt \nHoshinoRinne\nHoshinoAoba\nHoshinoHibiki\n#文件2\n[root@Hyui-VM ~]# cat useremail.txt \nhoshinorinne@hyui.xyz\nhoshinoaoba@hyui.xyz\nhoshinohibiki@hyui.xyz\n")])])]),a("ul",[a("li",[t._v("先读取username.txt内容，后读取useremail.txt内容。")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat sed.sh \n/.*/{\n$r useremail.txt\n}\n")])])]),a("p",[t._v("直接读入useremail.txt文件的内容。")]),t._v(" "),a("p",[t._v("运行结果：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -f sed.sh username.txt \nHoshinoRinne\nHoshinoAoba\nHoshinoHibiki\nhoshinorinne@hyui.xyz\nhoshinoaoba@hyui.xyz\nhoshinohibiki@hyui.xyz\n")])])]),a("h2",{attrs:{id:"sed高级应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed高级应用"}},[t._v("#")]),t._v(" Sed高级应用")]),t._v(" "),a("h3",{attrs:{id:"多行操作next"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多行操作next"}},[t._v("#")]),t._v(" 多行操作Next")]),t._v(" "),a("ul",[a("li",[t._v("Next指令可以通过读取新的输入行，将它追加至模式空间的现有内容之后，来创建多行模式空间。")])]),t._v(" "),a("h4",{attrs:{id:"举例1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例1"}},[t._v("#")]),t._v(" 举例1：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat message.txt \nName:Alice,\nMail:Alice@hyui.xyz\nName:Tim,\nMail:Tim@hyui.xyz\n")])])]),a("ul",[a("li",[t._v("使用Next指令编写sed脚本：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat sed.sh \n#n\n/Name/{\nN\nL\n}\n")])])]),a("ul",[a("li",[t._v('其中，"#n"意为屏蔽自动输出，不使用的话会重复显示文件原内容和操作结果。"N"为Next指令。"L"为打印(不显示非打印字符)。')]),t._v(" "),a("li",[t._v("运行结果如下：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -f sed.sh message.txt \nName:Alice, Mail:Alice@hyui.xyz\nName:Tim, Mail:Tim@hyui.xyz\n")])])]),a("h4",{attrs:{id:"举例2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例2"}},[t._v("#")]),t._v(" 举例2：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat num.txt \n111\n222\n222\n222\n333\n")])])]),a("ul",[a("li",[t._v("使用Next编写sed脚本：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat sed.sh \n#n\n/222/{\nN\nl\n}\n")])])]),a("ul",[a("li",[t._v('其中先匹配222内容，匹配到以后立即读取下一行内容，使用"l"会打印非打印字符。')]),t._v(" "),a("li",[t._v("运行结果：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -f sed.sh num.txt \n222\\n222$\n222\\n333$\n")])])]),a("ul",[a("li",[t._v('其中"\\n"意为换行符。')])]),t._v(" "),a("h3",{attrs:{id:"多行操作print"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多行操作print"}},[t._v("#")]),t._v(" 多行操作Print")]),t._v(" "),a("ul",[a("li",[t._v('多行打印Print指令为"P"，其与小写"p"的区别为：P只输出多行模式空间中的第一部分，直到第一个插入的\\n换行符。')])]),t._v(" "),a("h4",{attrs:{id:"举例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[t._v("#")]),t._v(" 举例：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat word.txt \naaa\nbbb\nccc\nddd\neee\nfff\n")])])]),a("ul",[a("li",[t._v("不使用打印")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/.*/N' word.txt \naaa\nbbb\nccc\nddd\neee\nfff\n")])])]),a("ul",[a("li",[t._v('这个命令只使用了Next指令读取下一行，新旧内容都是直接使用"\\n"分隔，读取下一行后没有任何后续指令，所以会输出源文件所有内容。')]),t._v(" "),a("li",[t._v("使用L打印：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/.*/N;L' word.txt \naaa bbb\naaa\nbbb\nccc ddd\nccc\nddd\neee fff\neee\nfff\n")])])]),a("ul",[a("li",[t._v("L打印表示显示模式空间的内容，而sed输出后会把源文件内容表示出来。")]),t._v(" "),a("li",[t._v("使用P打印：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/.*/N;P' word.txt \naaa\naaa\nbbb\nccc\nccc\nddd\neee\neee\nfff\n")])])]),a("ul",[a("li",[t._v("P打印为打印模式空间中第一部分内容直到\\n结尾，空间模式内容为aaa\\nbbb的话就仅打印aaa。")]),t._v(" "),a("li",[t._v("使用p打印：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/.*/N;p' word.txt \naaa\nbbb\naaa\nbbb\nccc\nddd\nccc\nddd\neee\nfff\neee\nfff\n")])])]),a("ul",[a("li",[t._v("使用p打印时遇到\\n会直接回车换行。")])]),t._v(" "),a("h3",{attrs:{id:"多行操作delete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多行操作delete"}},[t._v("#")]),t._v(" 多行操作Delete")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat word.txt \naaa\nbbb\nccc\nddd\neee\nfff\n")])])]),a("ul",[a("li",[t._v("使用Delete指令：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed '/aaa/d' word.txt \nbbb\nccc\nddd\neee\nfff\n")])])]),a("h3",{attrs:{id:"hold-h-h-get-g-g"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hold-h-h-get-g-g"}},[t._v("#")]),t._v(" Hold(h,H), Get(g,G)")]),t._v(" "),a("ul",[a("li",[t._v("Sed拥有一个hole space(保持空间)的缓冲区，模式空间可以复制内容到保持空间，保持空间内容也可以复制到模式空间。")]),t._v(" "),a("li",[t._v("Hold(h|H)    将模式空间内容复制或追加到保持空间")]),t._v(" "),a("li",[t._v("Get(g|G)     将保持空间内容复制或追加到模式空间")]),t._v(" "),a("li",[t._v("Exchange(x)  交换保持空间与模式空间的内容")])]),t._v(" "),a("h4",{attrs:{id:"举例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例-2"}},[t._v("#")]),t._v(" 举例：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat word.txt \naaa\nbbb\nccc\nddd\n")])])]),a("ul",[a("li",[t._v("编写sed脚本：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# cat sed.sh \n/aaa/{\nh\nd\n}\n/ccc/{\nG\n}\n")])])]),a("ul",[a("li",[t._v("脚本中首先匹配aaa字串，将aaa字串复制到保持空间，然后删除aaa字串；随后匹配ccc字串，将保持空间的内容追加到ccc字串的下一行。")]),t._v(" "),a("li",[t._v("运行结果：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[root@Hyui-VM ~]# sed -f sed.sh word.txt \nbbb\nccc\naaa\nddd\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);